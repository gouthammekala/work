{"ast":null,"code":"import _classCallCheck from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/goutham/Desktop/helioschatexp/src/chats/TreeMap.js\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport revenues from './party_asset.json';\nvar margin = {\n  left: 80,\n  right: 20,\n  top: 50,\n  bottom: 100\n};\nvar width = 600 - margin.left - margin.right,\n    height = 400 - margin.top - margin.bottom;\n\nvar TreeChat =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TreeChat, _Component);\n\n  function TreeChat(props) {\n    var _this;\n\n    _classCallCheck(this, TreeChat);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TreeChat).call(this, props));\n    _this.myRef = React.createRef();\n    _this.createForceLayout = _this.createForceLayout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(TreeChat, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.createForceLayout();\n    }\n  }, {\n    key: \"createForceLayout\",\n    value: function createForceLayout() {\n      var treemap = d3.layout.treemap().round(false).size([w, h]).sticky(true) //    .value(function(d) { return d[\"好き度\"]; });\n      .value(function (d) {\n        return d.total;\n      });\n      var g = d3.select(\"#chart-area\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \", \" + margin.top + \")\"); // X Label\n\n      g.append(\"text\").attr(\"y\", height + 50).attr(\"x\", width / 2).attr(\"font-size\", \"20px\").attr(\"text-anchor\", \"middle\").text(\"Month\"); // Y Label\n\n      g.append(\"text\").attr(\"y\", -60).attr(\"x\", -(height / 2)).attr(\"font-size\", \"20px\").attr(\"text-anchor\", \"middle\").attr(\"transform\", \"rotate(-90)\").text(\"Revenue\");\n      console.log(revenues); //d3.json(revenues).then(function(data){\n\n      console.log(revenues); // Clean data\n\n      revenues.forEach(function (d) {\n        d.revenue = +d.revenue;\n      }); // X Scale\n\n      var x = d3.scaleBand().domain(revenues.map(function (d) {\n        return d.month;\n      })).range([0, width]).padding(0.2); // Y Scale\n\n      var y = d3.scaleLinear().domain([0, d3.max(revenues, function (d) {\n        return d.revenue;\n      })]).range([height, 0]); // X Axis\n\n      var xAxisCall = d3.axisBottom(x);\n      g.append(\"g\").attr(\"class\", \"x axis\").attr(\"transform\", \"translate(0,\" + height + \")\").call(xAxisCall); // Y Axis\n\n      var yAxisCall = d3.axisLeft(y).tickFormat(function (d) {\n        return \"$\" + d;\n      });\n      g.append(\"g\").attr(\"class\", \"y axis\").call(yAxisCall); // Bars\n\n      var rects = g.selectAll(\"rect\").data(revenues);\n      rects.enter().append(\"rect\").attr(\"y\", function (d) {\n        return y(d.revenue);\n      }).attr(\"x\", function (d) {\n        return x(d.month);\n      }).attr(\"height\", function (d) {\n        return height - y(d.revenue);\n      }).attr(\"width\", x.bandwidth).attr(\"fill\", \"grey\");\n      /*}).catch(err => {\n          // Do something for an error here\n          console.log(\"Error Reading data \" + err);\n        });*/\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"chart-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return TreeChat;\n}(Component);\n\n;\nexport default TreeChat;","map":{"version":3,"sources":["/Users/goutham/Desktop/helioschatexp/src/chats/TreeMap.js"],"names":["React","Component","d3","revenues","margin","left","right","top","bottom","width","height","TreeChat","props","myRef","createRef","createForceLayout","bind","treemap","layout","round","size","w","h","sticky","value","d","total","g","select","append","attr","text","console","log","forEach","revenue","x","scaleBand","domain","map","month","range","padding","y","scaleLinear","max","xAxisCall","axisBottom","call","yAxisCall","axisLeft","tickFormat","rects","selectAll","data","enter","bandwidth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport revenues from './party_asset.json';\n\nconst margin = { left:80, right:20, top:50, bottom:100 };\n\nconst width = 600 - margin.left - margin.right,\n    height = 400 - margin.top - margin.bottom;\n\nclass TreeChat extends Component {\n\n    constructor(props) {\n        super(props);\n        this.myRef = React.createRef();\n        this.createForceLayout =  this.createForceLayout.bind(this);\n      }\n      componentDidMount() {\n        this.createForceLayout();\n      }\n      createForceLayout() {\n\n        var treemap = d3.layout.treemap()\n    .round(false)\n    .size([w, h])\n    .sticky(true)\n//    .value(function(d) { return d[\"好き度\"]; });\n    .value(function(d) { return d.total; });\n        var g = d3.select(\"#chart-area\")\n        .append(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n            .attr(\"transform\", \"translate(\" + margin.left + \", \" + margin.top + \")\");\n    \n    // X Label\n    g.append(\"text\")\n        .attr(\"y\", height + 50)\n        .attr(\"x\", width / 2)\n        .attr(\"font-size\", \"20px\")\n        .attr(\"text-anchor\", \"middle\")\n        .text(\"Month\");\n    \n    // Y Label\n    g.append(\"text\")\n        .attr(\"y\", -60)\n        .attr(\"x\", -(height / 2))\n        .attr(\"font-size\", \"20px\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .text(\"Revenue\");\n    console.log(revenues);\n    //d3.json(revenues).then(function(data){\n        console.log(revenues);\n    \n        // Clean data\n        revenues.forEach(function(d) {\n            d.revenue = +d.revenue;\n        });\n    \n        // X Scale\n        var x = d3.scaleBand()\n            .domain(revenues.map(function(d){ return d.month }))\n            .range([0, width])\n            .padding(0.2);\n    \n        // Y Scale\n        var y = d3.scaleLinear()\n            .domain([0, d3.max(revenues, function(d) { return d.revenue })])\n            .range([height, 0]);\n    \n        // X Axis\n        var xAxisCall = d3.axisBottom(x);\n        g.append(\"g\")\n            .attr(\"class\", \"x axis\")\n            .attr(\"transform\", \"translate(0,\" + height +\")\")\n            .call(xAxisCall);\n    \n        // Y Axis\n        var yAxisCall = d3.axisLeft(y)\n            .tickFormat(function(d){ return \"$\" + d; });\n        g.append(\"g\")\n            .attr(\"class\", \"y axis\")\n            .call(yAxisCall);\n    \n        // Bars\n        var rects = g.selectAll(\"rect\")\n            .data(revenues)\n            \n        rects.enter()\n            .append(\"rect\")\n                .attr(\"y\", function(d){ return y(d.revenue); })\n                .attr(\"x\", function(d){ return x(d.month) })\n                .attr(\"height\", function(d){ return height - y(d.revenue); })\n                .attr(\"width\", x.bandwidth)\n                .attr(\"fill\", \"grey\");\n    /*}).catch(err => {\n        // Do something for an error here\n        console.log(\"Error Reading data \" + err);\n      });*/\n      }\n      render() {\n        return (\n            <div className=\"container\">\n            <div className=\"row\">\n                <div id=\"chart-area\"></div>\n            </div>\n        </div>\n        );\n    }\n};\n\nexport default TreeChat;"]},"metadata":{},"sourceType":"module"}
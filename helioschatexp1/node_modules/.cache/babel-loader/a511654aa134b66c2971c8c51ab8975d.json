{"ast":null,"code":"import _classCallCheck from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/goutham/Desktop/helioschatexp/src/chats/CalenderView.js\";\nimport React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport filepath from \"./file1.csv\";\n\nvar CalenderView =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CalenderView, _Component);\n\n  function CalenderView(props) {\n    var _this;\n\n    _classCallCheck(this, CalenderView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CalenderView).call(this, props));\n    _this.createForceLayout = _this.createForceLayout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CalenderView, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.createForceLayout();\n    }\n  }, {\n    key: \"createForceLayout\",\n    value: function createForceLayout() {\n      d3.csv(\"https://gist.githubusercontent.com/mbostock/354a9c93174a17eb6b80f4678e3d3ae9/raw/9d20ec96a40cc3fd5b8ddc9a306bd7397d5cfd16/dji.csv\").then(function (tdata, error) {\n        console.log(tdata);\n        tdata.forEach(function (d) {\n          d.open = +d.open;\n          d.close = +d.close;\n          d.low = +d.low;\n          d.high = +d.high;\n          d.volume = +d.volume;\n        });\n        var data = tdata.map(function (da) {\n          console.log(da.close - da.previous);\n          return {\n            value: (da.close - da.open) / da.open,\n            date: da.date\n          };\n        });\n        console.log(data);\n        var years = d3.nest().key(function (d) {\n          return d.date.getUTCFullYear();\n        }).entries(data).reverse();\n        var svg = d3.select(DOM.svg(width, height * years.length)).style(\"font\", \"10px sans-serif\").style(\"width\", \"100%\").style(\"height\", \"auto\");\n        var year = svg.selectAll(\"g\").data(years).join(\"g\").attr(\"transform\", function (d, i) {\n          return \"translate(40,\".concat(height * i + cellSize * 1.5, \")\");\n        });\n        year.append(\"text\").attr(\"x\", -5).attr(\"y\", -5).attr(\"font-weight\", \"bold\").attr(\"text-anchor\", \"end\").text(function (d) {\n          return d.key;\n        });\n        year.append(\"g\").attr(\"text-anchor\", \"end\").selectAll(\"text\").data((weekday === \"weekday\" ? d3.range(2, 7) : d3.range(7)).map(function (i) {\n          return new Date(1995, 0, i);\n        })).join(\"text\").attr(\"x\", -5).attr(\"y\", function (d) {\n          return (countDay(d) + 0.5) * cellSize;\n        }).attr(\"dy\", \"0.31em\").text(formatDay);\n        year.append(\"g\").selectAll(\"rect\").data(function (d) {\n          return d.values;\n        }).join(\"rect\").attr(\"width\", cellSize - 1).attr(\"height\", cellSize - 1).attr(\"x\", function (d) {\n          return timeWeek.count(d3.utcYear(d.date), d.date) * cellSize + 0.5;\n        }).attr(\"y\", function (d) {\n          return countDay(d.date) * cellSize + 0.5;\n        }).attr(\"fill\", function (d) {\n          return color(d.value);\n        }).append(\"title\").text(function (d) {\n          return \"\".concat(formatDate(d.date), \": \").concat(format(d.value));\n        });\n        var month = year.append(\"g\").selectAll(\"g\").data(function (d) {\n          return d3.utcMonths(d3.utcMonth(d.values[0].date), d.values[d.values.length - 1].date);\n        }).join(\"g\");\n        month.filter(function (d, i) {\n          return i;\n        }).append(\"path\").attr(\"fill\", \"none\").attr(\"stroke\", \"#fff\").attr(\"stroke-width\", 3).attr(\"d\", pathMonth);\n        month.append(\"text\").attr(\"x\", function (d) {\n          return timeWeek.count(d3.utcYear(d), timeWeek.ceil(d)) * cellSize + 2;\n        }).attr(\"y\", -5).text(formatMonth);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"chart-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return CalenderView;\n}(Component);\n\nexport default CalenderView;","map":{"version":3,"sources":["/Users/goutham/Desktop/helioschatexp/src/chats/CalenderView.js"],"names":["React","Component","d3","filepath","CalenderView","props","createForceLayout","bind","csv","then","tdata","error","console","log","forEach","d","open","close","low","high","volume","data","map","da","previous","value","date","years","nest","key","getUTCFullYear","entries","reverse","svg","select","DOM","width","height","length","style","year","selectAll","join","attr","i","cellSize","append","text","weekday","range","Date","countDay","formatDay","values","timeWeek","count","utcYear","color","formatDate","format","month","utcMonths","utcMonth","filter","pathMonth","ceil","formatMonth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport filepath from \"./file1.csv\";\n\nclass CalenderView extends Component {\n  constructor(props) {\n    super(props);\n    this.createForceLayout = this.createForceLayout.bind(this);\n  }\n  componentDidMount() {\n    this.createForceLayout();\n  }\n  createForceLayout() {\n    d3.csv(\n      \"https://gist.githubusercontent.com/mbostock/354a9c93174a17eb6b80f4678e3d3ae9/raw/9d20ec96a40cc3fd5b8ddc9a306bd7397d5cfd16/dji.csv\"\n    ).then(function(tdata, error) {\n        console.log(tdata);\n        tdata.forEach(function(d) {\n            d.open = +d.open;\n            d.close = +d.close;\n            d.low=+d.low;\n            d.high=+d.high;\n            d.volume=+d.volume;\n        });\n        let data = tdata.map((da)=>{ \n            console.log(da.close - da.previous)\n            return {\n  \n                value: (da.close - da.open) / da.open,\n                date:da.date,\n            };\n          \n        });\n        console.log(data);\n    \n      const years = d3\n        .nest()\n        .key(d => d.date.getUTCFullYear())\n        .entries(data)\n        .reverse();\n\n      const svg = d3\n        .select(DOM.svg(width, height * years.length))\n        .style(\"font\", \"10px sans-serif\")\n        .style(\"width\", \"100%\")\n        .style(\"height\", \"auto\");\n\n      const year = svg\n        .selectAll(\"g\")\n        .data(years)\n        .join(\"g\")\n        .attr(\n          \"transform\",\n          (d, i) => `translate(40,${height * i + cellSize * 1.5})`\n        );\n\n      year\n        .append(\"text\")\n        .attr(\"x\", -5)\n        .attr(\"y\", -5)\n        .attr(\"font-weight\", \"bold\")\n        .attr(\"text-anchor\", \"end\")\n        .text(d => d.key);\n\n      year\n        .append(\"g\")\n        .attr(\"text-anchor\", \"end\")\n        .selectAll(\"text\")\n        .data(\n          (weekday === \"weekday\" ? d3.range(2, 7) : d3.range(7)).map(\n            i => new Date(1995, 0, i)\n          )\n        )\n        .join(\"text\")\n        .attr(\"x\", -5)\n        .attr(\"y\", d => (countDay(d) + 0.5) * cellSize)\n        .attr(\"dy\", \"0.31em\")\n        .text(formatDay);\n\n      year\n        .append(\"g\")\n        .selectAll(\"rect\")\n        .data(d => d.values)\n        .join(\"rect\")\n        .attr(\"width\", cellSize - 1)\n        .attr(\"height\", cellSize - 1)\n        .attr(\n          \"x\",\n          d => timeWeek.count(d3.utcYear(d.date), d.date) * cellSize + 0.5\n        )\n        .attr(\"y\", d => countDay(d.date) * cellSize + 0.5)\n        .attr(\"fill\", d => color(d.value))\n        .append(\"title\")\n        .text(d => `${formatDate(d.date)}: ${format(d.value)}`);\n\n      const month = year\n        .append(\"g\")\n        .selectAll(\"g\")\n        .data(d =>\n          d3.utcMonths(\n            d3.utcMonth(d.values[0].date),\n            d.values[d.values.length - 1].date\n          )\n        )\n        .join(\"g\");\n\n      month\n        .filter((d, i) => i)\n        .append(\"path\")\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"stroke-width\", 3)\n        .attr(\"d\", pathMonth);\n\n      month\n        .append(\"text\")\n        .attr(\n          \"x\",\n          d => timeWeek.count(d3.utcYear(d), timeWeek.ceil(d)) * cellSize + 2\n        )\n        .attr(\"y\", -5)\n        .text(formatMonth);\n        \n    });\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div id=\"chart-area\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CalenderView;\n"]},"metadata":{},"sourceType":"module"}
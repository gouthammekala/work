{"ast":null,"code":"import _classCallCheck from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/goutham/Desktop/helioschatexp/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/goutham/Desktop/helioschatexp/src/chats/TreeMap.js\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport revenues from './party_asset.json';\nvar margin = {\n  left: 80,\n  right: 20,\n  top: 50,\n  bottom: 100\n};\nvar width = 600 - margin.left - margin.right,\n    height = 400 - margin.top - margin.bottom;\n\nvar TreeChat =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TreeChat, _Component);\n\n  function TreeChat(props) {\n    var _this;\n\n    _classCallCheck(this, TreeChat);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TreeChat).call(this, props));\n    _this.myRef = React.createRef();\n    _this.createForceLayout = _this.createForceLayout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(TreeChat, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.createForceLayout();\n    }\n  }, {\n    key: \"createForceLayout\",\n    value: function createForceLayout() {\n      var w = 1280 - 80,\n          h = 800 - 180,\n          x = d3.scale.linear().range([0, w]),\n          y = d3.scale.linear().range([0, h]),\n          color = d3.scale.category20c(),\n          root,\n          node;\n      var g = d3.select(\"#chart-area\").append(\"svg\").attr(\"width\", width + margin.left + margin.right).attr(\"height\", height + margin.top + margin.bottom).append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \", \" + margin.top + \")\"); // X Label\n\n      g.append(\"text\").attr(\"y\", height + 50).attr(\"x\", width / 2).attr(\"font-size\", \"20px\").attr(\"text-anchor\", \"middle\").text(\"Month\"); // Y Label\n\n      g.append(\"text\").attr(\"y\", -60).attr(\"x\", -(height / 2)).attr(\"font-size\", \"20px\").attr(\"text-anchor\", \"middle\").attr(\"transform\", \"rotate(-90)\").text(\"Revenue\");\n      console.log(revenues); //d3.json(revenues).then(function(data){\n\n      console.log(revenues); // Clean data\n\n      revenues.forEach(function (d) {\n        d.revenue = +d.revenue;\n      }); // X Scale\n\n      var x = d3.scaleBand().domain(revenues.map(function (d) {\n        return d.month;\n      })).range([0, width]).padding(0.2); // Y Scale\n\n      var y = d3.scaleLinear().domain([0, d3.max(revenues, function (d) {\n        return d.revenue;\n      })]).range([height, 0]); // X Axis\n\n      var xAxisCall = d3.axisBottom(x);\n      g.append(\"g\").attr(\"class\", \"x axis\").attr(\"transform\", \"translate(0,\" + height + \")\").call(xAxisCall); // Y Axis\n\n      var yAxisCall = d3.axisLeft(y).tickFormat(function (d) {\n        return \"$\" + d;\n      });\n      g.append(\"g\").attr(\"class\", \"y axis\").call(yAxisCall); // Bars\n\n      var rects = g.selectAll(\"rect\").data(revenues);\n      rects.enter().append(\"rect\").attr(\"y\", function (d) {\n        return y(d.revenue);\n      }).attr(\"x\", function (d) {\n        return x(d.month);\n      }).attr(\"height\", function (d) {\n        return height - y(d.revenue);\n      }).attr(\"width\", x.bandwidth).attr(\"fill\", \"grey\");\n      /*}).catch(err => {\n          // Do something for an error here\n          console.log(\"Error Reading data \" + err);\n        });*/\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"chart-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return TreeChat;\n}(Component);\n\n;\nexport default TreeChat;","map":{"version":3,"sources":["/Users/goutham/Desktop/helioschatexp/src/chats/TreeMap.js"],"names":["React","Component","d3","revenues","margin","left","right","top","bottom","width","height","TreeChat","props","myRef","createRef","createForceLayout","bind","w","h","x","scale","linear","range","y","color","category20c","root","node","g","select","append","attr","text","console","log","forEach","d","revenue","scaleBand","domain","map","month","padding","scaleLinear","max","xAxisCall","axisBottom","call","yAxisCall","axisLeft","tickFormat","rects","selectAll","data","enter","bandwidth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport revenues from './party_asset.json';\n\nconst margin = { left:80, right:20, top:50, bottom:100 };\n\nconst width = 600 - margin.left - margin.right,\n    height = 400 - margin.top - margin.bottom;\n\nclass TreeChat extends Component {\n\n    constructor(props) {\n        super(props);\n        this.myRef = React.createRef();\n        this.createForceLayout =  this.createForceLayout.bind(this);\n      }\n      componentDidMount() {\n        this.createForceLayout();\n      }\n      createForceLayout() {\n\n        var w = 1280 - 80,\n    h = 800 - 180,\n    x = d3.scale.linear().range([0, w]),\n    y = d3.scale.linear().range([0, h]),\n    color = d3.scale.category20c(),\n    root,\n    node;\n    \n        var g = d3.select(\"#chart-area\")\n        .append(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n            .attr(\"transform\", \"translate(\" + margin.left + \", \" + margin.top + \")\");\n    \n    // X Label\n    g.append(\"text\")\n        .attr(\"y\", height + 50)\n        .attr(\"x\", width / 2)\n        .attr(\"font-size\", \"20px\")\n        .attr(\"text-anchor\", \"middle\")\n        .text(\"Month\");\n    \n    // Y Label\n    g.append(\"text\")\n        .attr(\"y\", -60)\n        .attr(\"x\", -(height / 2))\n        .attr(\"font-size\", \"20px\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .text(\"Revenue\");\n    console.log(revenues);\n    //d3.json(revenues).then(function(data){\n        console.log(revenues);\n    \n        // Clean data\n        revenues.forEach(function(d) {\n            d.revenue = +d.revenue;\n        });\n    \n        // X Scale\n        var x = d3.scaleBand()\n            .domain(revenues.map(function(d){ return d.month }))\n            .range([0, width])\n            .padding(0.2);\n    \n        // Y Scale\n        var y = d3.scaleLinear()\n            .domain([0, d3.max(revenues, function(d) { return d.revenue })])\n            .range([height, 0]);\n    \n        // X Axis\n        var xAxisCall = d3.axisBottom(x);\n        g.append(\"g\")\n            .attr(\"class\", \"x axis\")\n            .attr(\"transform\", \"translate(0,\" + height +\")\")\n            .call(xAxisCall);\n    \n        // Y Axis\n        var yAxisCall = d3.axisLeft(y)\n            .tickFormat(function(d){ return \"$\" + d; });\n        g.append(\"g\")\n            .attr(\"class\", \"y axis\")\n            .call(yAxisCall);\n    \n        // Bars\n        var rects = g.selectAll(\"rect\")\n            .data(revenues)\n            \n        rects.enter()\n            .append(\"rect\")\n                .attr(\"y\", function(d){ return y(d.revenue); })\n                .attr(\"x\", function(d){ return x(d.month) })\n                .attr(\"height\", function(d){ return height - y(d.revenue); })\n                .attr(\"width\", x.bandwidth)\n                .attr(\"fill\", \"grey\");\n    /*}).catch(err => {\n        // Do something for an error here\n        console.log(\"Error Reading data \" + err);\n      });*/\n      }\n      render() {\n        return (\n            <div className=\"container\">\n            <div className=\"row\">\n                <div id=\"chart-area\"></div>\n            </div>\n        </div>\n        );\n    }\n};\n\nexport default TreeChat;"]},"metadata":{},"sourceType":"module"}
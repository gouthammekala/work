!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("d3")):"function"==typeof define&&define.amd?define(["exports","react","d3"],e):e(t.countdown={},t.React,null)}(this,function(t,e,a){"use strict";var r="default"in e?e.default:e,n={top:50,right:0,bottom:100,left:30},o=960-n.left-n.right,s=430-n.top-n.bottom,c=Math.floor(o/24),i=2.665*c,l=["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"];const u=[10,20,40,70,50,30,90,120,5,65,75],d=400,p=200,h=p-20,f=24,m=2,g=t=>(t=a.shuffle([...t])).map((t,e)=>({id:e,value:t})),v=t=>{const e=a.scaleLinear();return p-e(t.value)},x=t=>{return a.scaleLinear()(t.value)};t.BarChat1=class extends e.PureComponent{constructor(t){super(t),this.myRef=r.createRef(),this.createForceLayout=this.createForceLayout.bind(this)}componentDidMount(){const{data:t}=this.props;console.log(t),this.createForceLayout()}componentWillReceiveProps(t){const{data:e}=t;console.log(e)}createForceLayout(){a.scaleLinear().domain([0,a.max(u)]).range([0,h]);const t=a.select("svg").attr("width",d).attr("height",p).append("g");a.interval(()=>{!function(e){const r=a.transition().duration(750),n=t.selectAll("g").data(e,t=>t.id);n.exit().remove(),n.transition(r).attr("transform",(t,e)=>`translate(${e*(f+m)},${v(t)})`),n.select("rect").transition(r).attr("height",x),n.select("text").transition(r).tween("text",function(t){const e=this.textContent||"0",r=t.value,n=a.interpolateRound(e,r);return t=>this.textContent=n(t)});const o=n.enter().append("g").attr("transform",(t,e)=>`translate(${e*(f+m)},${h})`);o.transition(r).attr("transform",(t,e)=>`translate(${e*(f+m)},${v(t)})`),o.append("rect").attr("x",0).attr("y",0).attr("width",f).attr("height",0).transition(r).attr("height",x),o.append("text").text(t=>t.value).attr("text-anchor","middle").attr("dx",f/2).attr("dy",-2)}(g(u))},2e3)}render(){const{data:t}=this.props;return console.log(t),r.createElement("div",{className:"viz"},r.createElement("svg",{style:{height:"100%",width:"50%"}},r.createElement("use",{xlinkHref:"/svg/svg-sprite#my-icon"})))}},t.HeatMap=class extends e.PureComponent{constructor(t){super(t),this.createForceLayout=this.createForceLayout.bind(this),this.updateHeatmap=this.updateHeatmap.bind(this)}createForceLayout(){var t=a.select(".heapmap").append("svg").attr("width",o+n.left+n.right).attr("height",s+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")");this.updateHeatmap(t)}updateHeatmap(t){const{data:e}=this.props;t.selectAll(".legend").attr("opacity",0),console.log(e),colorScale=a.scale.quantile().domain([0,a.max(e,function(t){return t.value})/2,a.max(e,function(t){return t.value})]).range(l),t.selectAll(".hour").data(e).transition().duration(1e3).style("fill",function(t){return colorScale(t.value)}).selectAll("title").text(function(t){return t.value});var r=t.selectAll(".legend").data([0].concat(colorScale.quantiles()),function(t){return t}).enter().append("g").attr("class","legend");r.append("rect").attr("x",function(t,e){return i*e}).attr("y",s).attr("width",i).attr("height",c/2).style("fill",function(t,e){return l[e]}),r.append("text").attr("class","mono").text(function(t){return"â‰¥ "+t.toString().substr(0,4)}).attr("x",function(t,e){return i*e}).attr("y",s+c)}render(){const{data:t}=this.props;return console.log(t),r.createElement("div",{className:"heapmap"})}},Object.defineProperty(t,"__esModule",{value:!0})});
